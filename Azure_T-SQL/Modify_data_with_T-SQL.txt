-- Challenge 3: Delete products
-- (1) Delete a product category and its products
-- SELECT *
-- FROM SalesLT.Product
-- FROM SalesLT.ProductCategory
-- DELETE FROM SalesLT.ProductCategory
-- WHERE Name = 'Bells and Horns' 
-- DELETE FROM SalesLT.Product
-- WHERE ProductCategoryID = (
--                            SELECT ProductCategoryID
--                            FROM SalesLT.ProductCategory
--                            WHERE Name = 'Bells and Horns'
--                           )

-- Challenge 2: Update products
-- (1) Update product prices
-- (2) Discontinue products
-- SELECT *
-- FROM SalesLT.Product
-- FROM SalesLT.ProductCategory
-- UPDATE SalesLT.Product
-- SET DiscontinuedDate = GETDATE()
-- WHERE ProductCategoryID = 37 AND ProductNumber <> 'LT-L123'
-- UPDATE SalesLT.Product
-- SET ListPrice = ListPrice * 1.1
-- WHERE ProductCategoryID = (
--                           SELECT ProductCategoryID
--                           FROM SalesLT.ProductCategory
--                           WHERE Name = 'Belles and Horns'
--                           )

-- Challenge 1: Insert products
-- (1) Insert a product
-- (2) Insert a new category with two products
-- SELECT *
-- FROM SalesLT.Product
-- FROM SalesLT.ProductCategory
-- INSERT INTO SalesLT.ProductCategory (Name, ProductCategoryID)
-- VALUES
-- ('Bells and Horns', 4)
-- INSERT INTO SalesLT.Product (Name, ProductNumber, StandardCost, ListPrice, ProductCategoryID, SellStartDate)
-- VALUES
-- ('Bicycle Bell', 'BB-RING', 2.47, 4.99, IDENT_CURRENT('Sales.ProductCategory'), GETDATE()),
-- ('Bicycle Horn', 'BB-PARP', 1.29, 3.75, IDENT_CURRENT('Sales.ProductCategory'), GETDATE())
-- SELECT p.Name AS ProductName, c.Name AS CategoryName
-- FROM SalesLT.Product AS p
-- JOIN SalesLT.ProductCategory AS c
-- ON p.ProductCategoryID = c.ProductCategoryID
-- WHERE p.ProductCategoryID = IDENT_CURRENT('Sales.ProductCategoryID')
-- INSERT INTO SalesLT.Product (Name, ProductNumber, StandardCost, ListPrice, ProductCategoryID, SellStartDate)
-- VALUES
-- ('LED Lights', 'LT-L123', 2.56, 12.99, 37, GETDATE())
-- SELECT SCOPE_IDENTITY()
-- SELECT *
-- FROM SalesLT.Product
-- WHERE ProductID = SCOPE_IDENTITY()
